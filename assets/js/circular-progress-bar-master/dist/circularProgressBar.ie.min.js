var CircularProgressBar=function(){"use strict";var t={colorSlice:"#00a1ff",fontColor:"#000",fontSize:"1.6rem",fontWeight:400,lineargradient:!1,number:!0,round:!1,fill:"none",unit:"%",rotation:-90,size:200,stroke:10},r=function(t){var r=t.rotation,e=t.animationSmooth;return"transform:rotate("+r+"deg);transform-origin: 50% 50%;"+(e?"transition: stroke-dashoffset "+e:"")},e=function(t){return{"stroke-dasharray":t||"264"}},n=function(t){return{"stroke-linecap":t.round?"round":""}},i=function(t){return{"font-size":t.fontSize,"font-weight":t.fontWeight}},a=function(t){return document.querySelector(t)},o=function(t,r){var e=r.lineargradient,n=r.index,i=r.colorSlice;t.setAttribute("stroke",e?"url(#linear-"+n+")":i)},s=function(t,r){for(var e in r)null==t||t.setAttribute(e,r[e])},c=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},f=function(t,r){var e=c("tspan");return e.classList.add(t),r&&(e.textContent=r),e},u=function(t,r,e){var n=264-t/100*(e?2.64*(100-e):264);return r?-n:n},d=function(t,r,e){return void 0===e&&(e="beforeend"),t.insertAdjacentElement(e,r)};return function(){function v(t,r){void 0===r&&(r={}),this.t=t,this.i=r;var e=document.querySelectorAll("."+t),n=[].slice.call(e);n.map((function(t,e){var n=JSON.parse(t.getAttribute("data-pie"));t.setAttribute("data-pie-index",n.index||r.index||e+1)})),this.o=n}var l=v.prototype;return l.initial=function(t){var r=this,e=t||this.o;Array.isArray(e)?e.map((function(t){return r.u(t)})):this.u(e)},l.v=function(t,u,v){var l=this.t;v.number&&d(t,function(t,r){var e=c("text");e.classList.add(r+"-text-"+t.index),d(e,f(r+"-percent-"+t.index)),d(e,f(r+"-unit-"+t.index,t.unit));var n=Object.assign({x:"50%",y:"50%",fill:t.fontColor,"text-anchor":"middle",dy:t.textPosition||"0.35em"},i(t));return s(e,n),e}(v,l));var h=a("."+l+"-circle-"+v.index),m=Object.assign({fill:"none","stroke-width":v.stroke,"stroke-dashoffset":"264"},e(),n(v));s(h,m),this.animationTo(Object.assign({},v,{element:h}),!0),h.setAttribute("style",r(v)),o(h,v),u.setAttribute("style","width:"+v.size+"px;height:"+v.size+"px;")},l.animationTo=function(r,e){void 0===e&&(e=!1);var n=this.t,c=JSON.parse(a('[data-pie-index="'+r.index+'"]').getAttribute("data-pie")),f=a("."+n+"-circle-"+r.index);if(f){var d=e?r:Object.assign({},t,c,r,this.i);if(e||o(f,d),!e&&d.number){var v=Object.assign({fill:d.fontColor},i(d)),l=a("."+n+"-text-"+d.index);s(l,v)}var h=a("."+n+"-percent-"+r.index);if(d.animationOff)return d.number&&(h.textContent=""+d.percent),void f.setAttribute("stroke-dashoffset",u(d.percent,d.inverse));var m=JSON.parse(f.getAttribute("data-angel")),p=Math.round(r.percent);if(0==p&&(d.number&&(h.textContent="0"),f.setAttribute("stroke-dashoffset","264")),!(p>100||p<=0||m===p)){var g,b=e?0:m,O=1e3/(d.speed||1e3),x=performance.now();requestAnimationFrame((function t(r){g=requestAnimationFrame(t);var e=r-x;e>=O-.1&&(x=r-e%O,m>=d.percent?b--:b++),f.setAttribute("stroke-dashoffset",u(b,d.inverse,d.cut)),h&&d.number&&(h.textContent=""+b),f.setAttribute("data-angel",b),f.parentNode.setAttribute("aria-valuenow",b),b===p&&cancelAnimationFrame(g)}))}}},l.u=function(r){var e=r.getAttribute("data-pie-index"),n=JSON.parse(r.getAttribute("data-pie")),i=Object.assign({},t,n,{index:e},this.i),a=c("svg"),o={role:"progressbar",width:i.size,height:i.size,viewBox:"0 0 100 100","aria-valuemin":"0","aria-valuemax":"100"};s(a,o),i.colorCircle&&a.appendChild(this.l(i)),i.lineargradient&&a.appendChild(function(t){var r=t.index,e=t.lineargradient,n=c("defs"),i=c("linearGradient");i.id="linear-"+r;var a=[].slice.call(e);n.appendChild(i);var o=0;return a.map((function(t){var r=c("stop");s(r,{offset:o+"%","stop-color":""+t}),i.appendChild(r),o+=100/(a.length-1)})),n}(i)),a.appendChild(this.l(i,"top")),r.appendChild(a),this.v(a,r,i)},l.l=function(t,i){void 0===i&&(i="bottom");var a=c("circle"),o={};if(t.cut){var f=264-2.64*(100-t.cut);o=Object.assign({"stroke-dashoffset":t.inverse?-f:f,style:r(t)},e(),n(t))}var u=Object.assign({fill:t.fill,stroke:t.colorCircle,"stroke-width":t.strokeBottom||t.stroke},o);t.strokeDasharray&&Object.assign(u,Object.assign({},e(t.strokeDasharray)));var d="top"===i?{class:this.t+"-circle-"+t.index}:u,v=Object.assign({cx:"50%",cy:"50%",r:42,"shape-rendering":"geometricPrecision"},d);return s(a,v),a},v}()}();
